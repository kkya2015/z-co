!function(global){function strEncode(e){var t,n,r,a,i,o;for(r=e.length,n=0,t="";r>n;){if(a=255&e.charCodeAt(n++),n==r){t+=EncodeChars.charAt(a>>2),t+=EncodeChars.charAt((3&a)<<4);break}if(i=e.charCodeAt(n++),n==r){t+=EncodeChars.charAt(a>>2),t+=EncodeChars.charAt((3&a)<<4|(240&i)>>4),t+=EncodeChars.charAt((15&i)<<2);break}o=e.charCodeAt(n++),t+=EncodeChars.charAt(a>>2),t+=EncodeChars.charAt((3&a)<<4|(240&i)>>4),t+=EncodeChars.charAt((15&i)<<2|(192&o)>>6),t+=EncodeChars.charAt(63&o)}return t}function strDecode(e){var t,n,r,a,i,o,d;for(o=e.length,i=0,d="";o>i;){do t=DecodeChars[255&e.charCodeAt(i++)];while(o>i&&-1==t);if(-1==t)break;do n=DecodeChars[255&e.charCodeAt(i++)];while(o>i&&-1==n);if(-1==n)break;d+=String.fromCharCode(t<<2|(48&n)>>4);do{if(r=255&e.charCodeAt(i++),61==r)return d;r=DecodeChars[r]}while(o>i&&-1==r);if(-1==r)break;d+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(a=255&e.charCodeAt(i++),61==a)return d;a=DecodeChars[a]}while(o>i&&-1==a);if(-1==a)break;d+=String.fromCharCode((3&r)<<6|a)}return d}function openWindow(e,t,n){var r=strEncode(e),a=document.getElementById(r);if(a)return void(a.style.zIndex=++Zindex);winMap[r]={},winMap[r].pops=[],windows.push(r);var i=document.createElement("DIV");i.style.borderWidth="0px",i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width="100%",i.style.height="100%",i.style.zIndex=++Zindex,i.id=r;var o=document.createElement("iframe");o.style.position="absolute",o.style.borderWidth="0px",o.style.left="0px",o.style.top="0px",o.style.border="0px",o.style.padding="0px",o.style.width="100%",o.style.height="100%",i.appendChild(o),o.onload=o.onreadystatechange=function(){iframeload.call(o,r)},o.src=t+"?pageId="+r,n||(i.className="page-from-right-to-center",i.addEventListener("webkitAnimationEnd",function(){i.className=""},!1)),body.appendChild(i)}function closeWindow(e,t){var n=document.getElementById(t);n.className="page-from-center-to-right",n.addEventListener("webkitAnimationEnd",function(){for(var e=winMap[t].pops,r=0;r<e.length;r++){var a=e[r],i=document.getElementById(a);i&&i.parentNode.removeChild(i)}delete winMap[t],n.parentNode.removeChild(n)},!1)}function openPopover(e,t,n,r){var a=strEncode(e),i=document.getElementById(a);if(i)return void(i.style.zIndex=++Zindex);n=JSON.parse(n);var o=(n.x||0)+"px",d=(n.y||0)+"px",s="100%";n.width?s=n.width+"px":0==n.width&&n.x&&(s=document.body.scrollWidth-n.x+"px");var l="100%";n.height?l=n.height+"px":0==n.height&&n.y&&(l=document.body.scrollHeight-n.y+"px"),winMap[r].pops.push(a);var c=document.createElement("DIV");c.style.borderWidth="0px",c.style.position="absolute",c.style.left=o,c.style.top=d,c.style.width=s,c.style.height=l,c.style.zIndex=++Zindex,c.id=a;var p=document.createElement("iframe");p.style.position="absolute",p.style.borderWidth="0px",p.style.left="0px",p.style.top="0px",p.style.border="0px",p.style.padding="0px",p.style.width="100%",p.style.height="100%",c.appendChild(p),p.onload=p.onreadystatechange=function(){iframeload.call(p,a)},p.src=t+"?pageId="+a,document.getElementById(r).appendChild(c)}function closePopover(e,t){var n=document.getElementById(t);n.parentNode.removeChild(n)}function setSlideLayout(e){e=JSON.parse(e);var t=e.type,n=200,r="",a="";"right"==t?(r=e.rightPane.name,a=e.rightPane.url,n=e.rightEdge):(r=e.leftPane.name,a=e.leftPane.url,n=e.leftEdge);var i=strEncode(r);i="drawer"+i;var o={id:i,edge:n};"right"==t?winMap.rightPane=o:winMap.leftPane=o;var d=document.getElementById(i);d&&(delete winMap[i],d.parentNode.removeChild(d)),winMap[i]={},winMap[i].pops=[],windows.push(i);var s=document.createElement("DIV");s.style.borderWidth="0px",s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=n+"px",s.style.height="100%",s.id=i;var l=document.createElement("iframe");l.style.position="absolute",l.style.borderWidth="0px",l.style.left="0px",l.style.top="0px",l.style.border="0px",l.style.padding="0px",l.style.width="100%",l.style.height="100%",s.appendChild(l),l.onload=l.onreadystatechange=function(){iframeload.call(l,i)},l.src=a+"?pageId="+i,s.style.cssText+="right"==t?"-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth+n)+"px, 0) translateZ(0);":"-webkit-transition-duration:500ms;-webkit-transform: translate("+-n+"px, 0) translateZ(0);",body.appendChild(s)}function openSlidePane(e){var t=document.getElementById("drawerMask");t?t.style.display="block":(t=document.createElement("DIV"),t.style.borderWidth="0px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.background="#888",t.style.opacity="0.5",t.style.zIndex=++Zindex,t.id="drawerMask",body.appendChild(t),t.addEventListener("click",function(){closeSlidePane()},!1)),e=JSON.parse(e);var n=e.type,r="",a=200;"right"==n?(r=winMap.rightPane.id,a=winMap.rightPane.edge):(r=winMap.leftPane.id,a=winMap.leftPane.edge);var i=document.getElementById(r);i.style.zIndex=++Zindex,i.style.cssText+="right"==n?"-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth-a)+"px, 0) translateZ(0);":"-webkit-transition-duration:500ms;-webkit-transform: translate(0, 0) translateZ(0);"}function closeSlidePane(){if(winMap.rightPane){var e=winMap.rightPane.id,t=winMap.rightPane.edge,n=document.getElementById(e);n.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+(bWidth+t)+"px, 0) translateZ(0);"}if(winMap.leftPane){var e=winMap.leftPane.id,t=winMap.leftPane.edge,n=document.getElementById(e);n.style.cssText+="-webkit-transition-duration:500ms;-webkit-transform: translate("+-t+"px, 0) translateZ(0);"}var r=document.getElementById("drawerMask");r&&(r.style.display="none")}function sendRequest(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var e={type:"ajax",data:r.responseText,token:n};e=JSON.stringify(e),document.getElementById(t).firstChild.contentWindow.postMessage(e,"*")}},r.open("POST","http://127.0.0.1:30007",!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8;"),r.send(e)}for(var emu={version:"0.0.1"},body=document.body,bWidth=body.offsetWidth,Zindex=1e4,windows=[],winMap={},EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DecodeChars=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),class2type={},toString=class2type.toString,types="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<types.length;i++)name=types[i],class2type["[object "+name+"]"]=name.toLowerCase();var type=function(e){return null==e?String(e):class2type[toString.call(e)]||"object"},isWindow=function(e){return null!=e&&e==e.window},isObject=function(e){return"object"==type(e)},likeArray=function(e){return"number"==typeof e.length};emu.type=type,emu.isPlainObject=function(e){return isObject(e)&&!isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},emu.isFunction=function(e){return"function"==type(e)},emu.isString=function(e){return"string"==type(e)},emu.isArray=Array.isArray||function(e){return e instanceof Array},emu.each=function(e,t){var n,r;if(likeArray(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e};var uuid=function(e,t){var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(t=t||r.length,e)for(n=0;e>n;n++)a[n]=r[0|Math.random()*t];else{var i;for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",n=0;36>n;n++)a[n]||(i=0|16*Math.random(),a[n]=r[19==n?3&i|8:i])}return a.join("")},iframeload=function(e){if(!this.readyState||"complete"==this.readyState){var t={pageId:e},n={type:"init",data:t};n=JSON.stringify(n),this.contentWindow.postMessage(n,"*")}},GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null};window.addEventListener("message",function(e){eval(e.data)},!1);var rootName=GetQueryString("pageId")||"native.html",rootUrl=GetQueryString("pageId")||"native.html";openWindow(rootName,rootUrl,!0);var closeWin=strEncode(uuid(32))}(this);