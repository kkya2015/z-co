<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>http</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="res/doc.css">
  <style type="text/css"></style>
</head>
<body>
  <h1>http</h1>
  <hr />
  <p>http网络异步请求,主要封装了类ajax请求，简化开发者在进行ajax请求的繁琐操作。</p>
  <h3>索引</h3>
  <hr />
  <h3>
    <a href="#方法">方法</a>
    ：
  </h3>
  <ul>
    <li>
      <a href="#XMLHttpRequest">XMLHttpRequest</a>
      ：获取网络请求对象
    </li>
    <li>
      <a href="#ajax">ajax</a>
      ：执行ajax请求
    </li>
    <li>
      <a href="#get">get</a>
      ：执行get请求
    </li>
    <li>
      <a href="#getJSON">getJSON</a>
      ：执行getJSON请求
    </li>
    <li>
      <a href="#fileUpload">fileUpload</a>
      ：执行fileUpload请求
    </li>
  </ul>
  <h3>
    <a href="#对象">对象</a>
    ：
  </h3>
  <ul>
    <li>
      <p>
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
        ：网络请求对象
      </p>
      <ul>
        <li>
          <p>方法</p>
          <ul>
            <li>
              <a href="#open">open</a>
              ：初始化HTTP请求参数，例如URL和HTTP方法，但是并不发送请求
            </li>
            <li>
              <a href="#send">send</a>
              ：发送HTTP请求
            </li>
            <li>
              <a href="#postForm">postForm</a>
              ：表单方式提交数据
            </li>
            <li>
              <a href="#abort">abort</a>
              ：取消当前请求响应及事件回调
            </li>
            <li>
              <a href="#setHeader">setHeader</a>
              ：指定一个HTTP请求的Header
            </li>
            <li>
              <a href="#setOffline">setOffline</a>
              ：指定离线策略，是否直接调用离线数据
            </li>
            <li>
              <a href="#setExpires">setExpires</a>
              ：指定离线策略，设定离线缓存过期时间
            </li>
            <li>
              <a href="#setCertificate">setCertificate</a>
              ：设置本次请求使用的数字证书
            </li>
          </ul>
        </li>
        <li>
          <p>事件</p>
          <ul>
            <li>
              <a href="#onSuccess">onSuccess</a>
              ：请求成功回调事件
            </li>
            <li>
              <a href="#onError">onError</a>
              ：请求失败回调事件
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <hr />
  <h3>
    <div id="方法">方法</div>
  </h3>
  <hr />
  <h4>
    <div id="XMLHttpRequest" style="color:red">XMLHttpRequest</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.http.XMLHttpRequest()   ⇒
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
      </h4>
      <pre><code>获取网络请求对象</code></pre>

    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>var xhr = app.http.XMLHttpRequest()</code></pre>

    </li>
  </ul>
  <h4>
    <div id="ajax" style="color:red">ajax</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.http.ajax(url, settings)   ⇒
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
      </h4>
      <pre><code>执行ajax请求</code></pre>

      <ul>
        <li> <strong>url</strong>
          ： 网络请求地址
          <ul>
            <li> <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>settings</strong>
          ： ( <em>JSON</em>
          )网络请求配置项
          <ul>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>keys</strong>
              <ul>
                <li>
                  <strong>type</strong>
                  ： ( <em>String</em>
                  )异步请求方法类型
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：'GET'
                      <ul>
                        <li>
                          <strong>取值范围</strong>
                          <ul>
                            <li>GET</li>
                            <li>POST</li>
                            <li>PUT</li>
                            <li>DELETE</li>
                            <li>HEAD</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>data</strong>
                  ：(
                  <em>JSON</em>
                  )发送到服务器的数据
                  <ul>
                    <li>默认值：无</li>
                  </ul>
                </li>
                <li>
                  <strong>dataType</strong>
                  ：(
                  <em>String</em>
                  )预期服务器返回的数据类型
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：'json'
                      <ul>
                        <li>
                          <strong>取值范围</strong>
                          <ul>
                            <li>json</li>
                            <li>text</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>success</strong>
                  ：(
                  <em>Function</em>
                  )请求成功之后调用。传入返回后的数据，以及服务器响应头信息。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无
                      <ul>
                        <li>
                          <strong>参数</strong>
                          <ul>
                            <li>
                              <strong>data</strong>
                              ：(
                              <em>String/JSON</em>
                              )服务器返回数据。具体类型依赖于传入的options.dataType字段。
                            </li>
                            <li>
                              <strong>response</strong>
                              ：(
                              <em>JSON</em>
                              )服务器响应头信息。
                            </li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>error</strong>
                  ：(
                  <em>Function</em>
                  )请求出错时调用。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无
                      <ul>
                        <li>
                          <strong>参数</strong>
                          <ul>
                            <li>
                              <strong>message</strong>
                              ：(
                              <em>String</em>
                              )错误信息
                            </li>
                            <li>
                              <strong>code</strong>
                              ：(
                              <em>Number</em>
                              )服务器响应状态码
                            </li>
                            <li>
                              <strong>response</strong>
                              ：(
                              <em>JSON</em>
                              )服务器响应头
                            </li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>timeout</strong>
                  ：(
                  <em>Number</em>
                  )网络请求超时时间，单位ms。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：30000
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>headers</strong>
                  ：( JSON )请求中额外的HTTP信息头对象
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>offline</strong>
                  ：(
                  <em>String</em>
                  )是否直接调用离线数据（调用离线数据需要设置离线缓存过期时间expires不为0）
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：'none'
                      <ul>
                        <li>
                          <strong>取值范围</strong>
                          <ul>
                            <li>'true'：直接调用缓存数据，如果缓存数据不存在，执行请求并缓存返回数据；</li>
                            <li>'false'：直接请求数据，并把请求到的数据缓存</li>
                            <li>'none'：直接请求数据，不缓存请求到的数据。</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>expires</strong>
                  ：(
                  <em>Number</em>
                  )离线缓存过期时间，单位为ms。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：0
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>certificate</strong>
                  ：(
                  <em>JSON</em>
                  )数字证书
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无
                      <ul>
                        <li>
                          <strong>keys</strong>
                          <ul>
                            <li>
                              <strong>path</strong>
                              ：(
                              <em>String</em>
                              )证书(.p12证书)的路径
                            </li>
                            <li>
                              <strong>password</strong>
                              ：(
                              <em>String</em>
                              )提取证书的密码。
                            </li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    app.http.ajax('http://api.u148.net/json/6/1', {
        type: 'GET',
        data: {
            name: 'Dom'
        },
        dataType: 'json',
        timeout: 3000,
        success: function(data, response) {
            console.log(data)
        },
        error: function(message, code, response) {
            console.log(message)
        }
    })
</code></pre>

    </li>
  </ul>
  <h4>
    <div id="get" style="color:red">get</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.http.get(url, [data], [dataType], success)   ⇒
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
      </h4>
      <pre><code>执行get请求</code></pre>

      <ul>
        <li>
          <strong>url</strong>
          ： 网络请求地址
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>data</strong>
          ： 发送到服务器的数据
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>dataType</strong>
          ： 预期服务器返回的数据类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'json'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>json</li>
                <li>text</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <strong>success</strong>
          ： 请求成功之后调用。传入返回后的数据，以及服务器响应头信息
          <ul>
            <li>
              <strong>type</strong>
              ：Function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>data</strong>
                  ：(
                  <em>String/JSON</em>
                  )服务器返回数据。具体类型依赖于传入的options.dataType字段。
                </li>
                <li>
                  <strong>response</strong>
                  ：(
                  <em>JSON</em>
                  )服务器响应头信息。
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    EX-1：
    app.http.get('http://api.u148.net/json/6/1', function(data, response) {
        console.log(data)
    })

    EX-2：
    app.http.get('http://api.u148.net/json/6/1', {
        name: 'Dom'
    }, function(data, response) {
        console.log(data)
    })

    EX-3：
    app.http.get('http://api.u148.net/json/6/1', {
        name: 'Dom'
    }, 'json', function(data, response) {
        console.log(data)
    })
</code></pre>

    </li>
  </ul>
  <h4>
    <div id="getJSON" style="color:red">getJSON</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.http.getJSON(url, [data], success)   ⇒
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
      </h4>
      <pre><code>执行getJSON请求</code></pre>

      <ul>
        <li>
          <strong>url</strong>
          ： 网络请求地址
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>data</strong>
          ： 发送到服务器的数据
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>success</strong>
          ： 请求成功之后调用。传入返回后的数据，以及服务器响应头信息
          <ul>
            <li>
              <strong>type</strong>
              ：Function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>data</strong>
                  ：(
                  <em>String/JSON</em>
                  )服务器返回数据。具体类型依赖于传入的options.dataType字段。
                </li>
                <li>
                  <strong>response</strong>
                  ：(
                  <em>JSON</em>
                  )服务器响应头信息。
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    EX-1：
    app.http.getJSON('http://api.u148.net/json/6/1', function(data, response) {
        console.log(data)
    })

    EX-2：
    app.http.getJSON('http://api.u148.net/json/6/1', {
        name: 'Dom'
    }, function(data, response) {
        console.log(data)
    })
</code></pre>

    </li>
  </ul>
  <h4>
    <div id="fileUpload" style="color:red">fileUpload</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.http.fileUpload(url, files, [data], [dataType], success)   ⇒
        <a href="#XMLHttpRequest">XMLHttpRequest</a>
      </h4>
      <pre><code>执行文件上传请求</code></pre>

      <ul>
        <li>
          <strong>url</strong>
          ： 网络请求地址
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>files</strong>
          ： 发送到服务器的文件数组（JSON数组）
          <ul>
            <li>
              <strong>type</strong>
              ：Array（file）
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>file</strong>
              ：（JSON）文件对象
              <ul>
                <li>
                  <strong>keys</strong>
                  <ul>
                    <li>
                      <strong>name</strong>
                      ：(
                      <em>String</em>
                      )后台获取时的key
                    </li>
                    <li>
                      <strong>path</strong>
                      ：(
                      <em>String</em>
                      )文件路径
                    </li>
                    <li>
                      <strong>fileName</strong>
                      ：(
                      <em>String</em>
                      )后台保存的文件名
                    </li>
                    <li>
                      <strong>mimeType</strong>
                      ：(
                      <em>String</em>
                      )上传文件类型（后缀）
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <strong>data</strong>
          ： 发送到服务器的数据
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>dataType</strong>
          ： 预期服务器返回的数据类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'json'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>json</li>
                <li>text</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <strong>success</strong>
          ： 请求成功之后调用。传入返回后的数据，以及服务器响应头信息
          <ul>
            <li>
              <strong>type</strong>
              ：Function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>data</strong>
                  ：(
                  <em>String/JSON</em>
                  )服务器返回数据。具体类型依赖于传入的options.dataType字段。
                </li>
                <li>
                  <strong>response</strong>
                  ：(
                  <em>JSON</em>
                  )服务器响应头信息。
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    EX-1：
    app.http.fileUpload('http://api.u148.net/json/6/1', [{
        name: 'file',
        path: 'res://1.jpg',
        fileName: 'upFile',
        mimeType: 'jpg'
    }], function(data, response) {
        console.log(data)
    })

    EX-2：
    app.http.fileUpload('http://api.u148.net/json/6/1', [{
        name: 'file',
        path: 'res://1.jpg',
        fileName: 'upFile',
        mimeType: 'jpg'
    }], {
        name: 'Dom'
    }, function(data, response) {
        console.log(data)
    })

    EX-3：
    app.http.fileUpload('http://api.u148.net/json/6/1', [{
        name: 'file',
        path: 'res://1.jpg',
        fileName: 'upFile',
        mimeType: 'jpg'
    }], {
        name: 'Dom'
    }, 'json', function(data, response) {
        console.log(data)
    })
</code></pre>

    </li>
  </ul>
  <hr />
  <h3>
    <div id="对象">对象</div>
  </h3>
  <hr />
  <h4>
    <div id="XMLHttpRequest" style="color:red">XMLHttpRequest</div>
  </h4>
  <pre><code>var xhr = app.http.XMLHttpRequest()</code></pre>

  <ul>
    <li>
      <h4>
        <div id="open" style="color:red">open(url, [method], [timeout])   ⇒ void</div>
      </h4>
      <pre><code>这个方法初始化请求参数以供 send() 方法稍后使用。当这个方法调用的时候，不会打开一个到Web服务器的网络连接。</code></pre>

      <ul>
        <li>
          <strong>url</strong>
          ：网络请求地址
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>method</strong>
          ：异步请求方法类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'GET'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>GET</li>
                <li>POST</li>
                <li>PUT</li>
                <li>DELETE</li>
                <li>HEAD</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <strong>timeout</strong>
          ：网络请求超时时间，单位ms。
          <ul>
            <li>
              <strong>type</strong>
              ：Number
            </li>
            <li>
              <strong>默认值</strong>
              ：30000
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()

    EX-1：
    xhr.open('http://api.u148.net/json/6/1')

    EX-2：
    xhr.open('http://api.u148.net/json/6/1','GET')

    EX-3：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
</code></pre>

    </li>
    <li>
      <h4>
        <div id="send" style="color:red">send([body], [dataType])   ⇒ void</div>
      </h4>
      <pre><code>    此方法触发HTTP请求发送，如果之前没有调用open()，send()抛出一个异常。否则，将发送HTTP请求，该请求包含通过其他设置方法对该请求对象设置的一些属性（例如：setHeader）
</code></pre>

      <ul>
        <li>
          <strong>body</strong>
          ：请求HTTP提交的数据内容
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>dataType</strong>
          ：预期服务器返回的数据类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'json'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>json</li>
                <li>text</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()

    EX-1：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.send()

    EX-2：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.send({
        name: 'Dom'
    })

    EX-3：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.send({
        name: 'Dom'
    }, 'json')
</code></pre>

    </li>
    <li>
      <h4>
        <div id="postForm" style="color:red">postForm([data], [dataType], [files])   ⇒ void</div>
      </h4>
      <pre><code>    表单方式提交数据，如果之前没有调用open()，postForm()抛出一个异常。否则，将发送HTTP请求，该请求包含通过其他设置方法对该请求对象设置的一些属性（例如：setHeader）
</code></pre>

      <ul>
        <li>
          <strong>data</strong>
          ： 发送到服务器的数据
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>dataType</strong>
          ：预期服务器返回的数据类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'json'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>json</li>
                <li>text</li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <strong>files</strong>
          ： 发送到服务器的文件数组（JSON数组）
          <ul>
            <li>
              <strong>type</strong>
              ：Array（file）
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>file</strong>
              ：（JSON）文件对象
              <ul>
                <li>
                  <strong>keys</strong>
                  <ul>
                    <li>
                      <strong>name</strong>
                      ：(
                      <em>String</em>
                      )后台获取时的key
                    </li>
                    <li>
                      <strong>path</strong>
                      ：(
                      <em>String</em>
                      )文件路径
                    </li>
                    <li>
                      <strong>fileName</strong>
                      ：(
                      <em>String</em>
                      )后台保存的文件名
                    </li>
                    <li>
                      <strong>mimeType</strong>
                      ：(
                      <em>String</em>
                      )上传文件类型（后缀）
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()

    EX-1：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.postForm()

    EX-2：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.postForm({
        name: 'Dom'
    })

    EX-3：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.postForm({
        name: 'Dom'
    }, 'json')

    EX-4：
    xhr.open('http://api.u148.net/json/6/1','GET',4000)
    xhr.postForm({
        name: 'Dom'
    }, 'json'，[{
        name: 'file',
        path: 'res://1.jpg',
        fileName: 'upFile',
        mimeType: 'jpg'
    }])
</code></pre>

    </li>
    <li>
      <h4>
        <div id="abort" style="color:red">abort()   ⇒ void</div>
      </h4>
      <pre><code>取消当前响应，即使成功返回也不会执行回调函数</code></pre>

    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.abort()
</code></pre>

    </li>
    <li>
      <h4>
        <div id="setHeader" style="color:red">setHeader(headerName, headerValue)   ⇒ void</div>
      </h4>
      <pre><code>Http的Header包含在通过后续send()调用而发起的请求中。 </code></pre>

      <ul>
        <li>
          <strong>headerName</strong>
          ： HTTP Header名称
          <ul>
            <li>
              <strong>type</strong>
              ：DOMString
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>headerValue</strong>
          ： HTTP Header值
          <ul>
            <li>
              <strong>type</strong>
              ：DOMString
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.setHeader('Content-Type','application/json');
</code></pre>

    </li>
    <li>
      <h4>
        <div id="setOffline" style="color:red">setOffline(type)   ⇒ void</div>
      </h4>
      <pre><code>设置离线策略，是否直接调用离线数据。</code></pre>

      <ul>
        <li>
          <strong>type</strong>
          ： 离线策略类型
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：'none'
            </li>
            <li>
              <strong>取值范围</strong>
              <ul>
                <li>'true'：直接调用缓存数据，如果缓存数据不存在，执行请求并缓存返回数据；</li>
                <li>'false'：直接请求数据，并把请求到的数据缓存</li>
                <li>'none'：直接请求数据，不缓存请求到的数据。</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.setOffline('true');
</code></pre>

    </li>
    <li>
      <h4>
        <div id="setExpires" style="color:red">setExpires(millisecond)   ⇒ void</div>
      </h4>
      <pre><code>设置离线缓存过期时间，单位为ms。</code></pre>

      <ul>
        <li>
          <strong>millisecond</strong>
          ： 缓存过期时间
          <ul>
            <li>
              <strong>type</strong>
              ：Number
            </li>
            <li>
              <strong>默认值</strong>
              ：0
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.setExpires(300000);
</code></pre>

    </li>
    <li>
      <h4>
        <div id="setCertificate" style="color:red">setCertificate(path, password)   ⇒ void</div>
      </h4>
      <pre><code>设置本次请求使用的数字证书</code></pre>

      <ul>
        <li>
          <strong>path</strong>
          ： 证书(.p12证书)的路径
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>password</strong>
          ： 提取证书的密码
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.setCertificate('证书地址','证书密码');
</code></pre>

    </li>
    <li>
      <h4>
        <div id="onSuccess" style="color:red">onSuccess(data, response)   ⇒ void</div>
      </h4>
      <pre><code>请求成功之后调用事件。传入返回后的数据，以及服务器响应头信息</code></pre>

      <ul>
        <li>
          <strong>data</strong>
          ：服务器返回数据。具体类型依赖于传入的options.dataType字段。
          <ul>
            <li>
              <strong>type</strong>
              ：String/JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>response</strong>
          ：服务器响应头信息。
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.onSuccess = function(data, response) {
        console.log(data)
    }
</code></pre>

    </li>
    <li>
      <h4>
        <div id="onError" style="color:red">onError(message, code, response)   ⇒ void</div>
      </h4>
      <pre><code>请求出错时调用。</code></pre>

      <ul>
        <li>
          <strong>message</strong>
          ：错误信息
          <ul>
            <li>
              <strong>type</strong>
              ：String
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>code</strong>
          ：服务器响应状态码
          <ul>
            <li>
              <strong>type</strong>
              ：Number
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
        <li>
          <strong>response</strong>
          ：服务器响应头信息。
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    var xhr = app.http.XMLHttpRequest()
    xhr.onError = function(data, response) {
        console.log(data)
    }
</code></pre>

    </li>
  </ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->