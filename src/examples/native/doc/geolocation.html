<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Geolocation</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="res/doc.css">
  <style type="text/css"></style>
</head>
<body>
  <h1>geolocation</h1>
  <hr />
  <p>
    geolocation模块管理设备位置信息，用于获取地理位置信息，如经度、纬度等,亦可以调用设备的 GPS 定位来获取高精度的地理位置信息。
  </p>
  <h3>索引</h3>
  <hr />
  <h3>
    <a href="#方法">方法</a>
    ：
  </h3>
  <ul>
    <li>
      <a href="#getCurrentPosition">getCurrentPosition</a>
      ：获取当前设备位置信息
    </li>
    <li>
      <a href="#watchPosition">watchPosition</a>
      ：监听设备位置变化信息
    </li>
    <li>
      <a href="#clearWatch">clearWatch</a>
      ：关闭监听设备位置信息
    </li>
  </ul>
  <hr />
  <h3>
    <div id="方法">方法</div>
  </h3>
  <hr />
  <h4>
    <div id="getCurrentPosition" style="color:red">getCurrentPosition</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.geolocation.getCurrentPosition(success, error, options)   ⇒ void
      </h4>
      <p>
        位置信息将通过手机GPS设备或其它信息如IP地址、移动网络信号获取，由于获取位置信息可能需要较长的时间，当成功获取位置信息后将通过success回调函数返回。
      </p>
      <ul>
        <li> <strong>success</strong>
          ：获取设备位置信息成功回调函数
          <ul>
            <li> <strong>type</strong>
              ：function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>position</strong>
                  ：设备的地理位置信息
                  <ul>
                    <li>
                      <strong>type</strong>
                      ：JSON
                    </li>
                    <li>
                      <strong>keys</strong>
                      <ul>
                        <li>
                          <strong>coords</strong>
                          ：（ <em>JSON</em>
                          ）地理坐标信息，包括经纬度、海拔、速度等信息
                          <ul>
                            <li>
                              <strong>keys</strong>
                              <ul>
                                <li>
                                  <strong>latitude</strong>
                                  ：( <em>Number</em>
                                  )坐标纬度值 数据类型对象，地理坐标中的纬度值。
                                </li>
                                <li>
                                  <strong>longitude</strong>
                                  ：(
                                  <em>Number</em>
                                  )坐标经度值 数据类型对象，地理坐标中的经度值。
                                </li>
                                <li>
                                  <strong>altitude</strong>
                                  ：(
                                  <em>Number</em>
                                  )海拔信息 数据类型对象，如果无法获取此信息，则此值为空（null）。
                                </li>
                                <li>
                                  <strong>accuracy</strong>
                                  ：(
                                  <em>Number</em>
                                  )地理坐标信息的精确度信息 数据类型对象，单位为米，其有效值必须大于0。
                                </li>
                                <li>
                                  <strong>altitudeAccuracy</strong>
                                  ：(
                                  <em>Number</em>
                                  )海拔的精确度信息 数据类型对象，单位为米，其有效值必须大于0。如果无法获取海拔信息，则此值为空（null）。
                                </li>
                                <li>
                                  <strong>heading</strong>
                                  ：(
                                  <em>Number</em>
                                  )表示设备移动的方向 数据类型对象，范围为0到360，表示相对于正北方向的角度。如果无法获取此信息，则此值为空（null）。如果设备没有移动则此值为NaN。
                                </li>
                                <li>
                                  <strong>speed</strong>
                                  ：(
                                  <em>Number</em>
                                  )表示设备移动的速度 数据类型对象，单位为米每秒（m/s），其有效值必须大于0。如果无法获取速度信息，则此值为空（null）。
                                </li>
                              </ul>
                            </li>
                          </ul>
                        </li>
                        <li>
                          <strong>coordsType</strong>
                          ：(
                          <em>String</em>
                          )获取到地理坐标信息的坐标系类型,可取以下坐标系类型： “gps”：表示WGS-84坐标系；
                        </li>
                        <li>
                          <strong>timestamp</strong>
                          ： (
                          <em>Number</em>
                          )获取到地理坐标的时间戳信息,时间戳值为从1970年1月1日至今的毫秒数。
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <p>
            <strong>error</strong>
            ：获取设备位置信息失败的回调函数
          </p>
          <ul>
            <li>
              <strong>type</strong>
              ：function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>err</strong>
                  ：获取位置操作的错误信息
                  <ul>
                    <li>
                      <strong>type</strong>
                      ：String
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <p>
            <strong>options</strong>
            ：调用麦克风设备进行录音的参数
          </p>
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>keys</strong>
              <ul>
                <li>
                  <strong>enableHighAccuracy</strong>
                  ： (
                  <em>Boolean</em>
                  )是否高精确度获取位置信息 高精度获取表示需要使用更多的系统资源。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：false
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>timeout</strong>
                  ：(
                  <em>Number</em>
                  )获取位置信息的超时时间 单位为毫秒（ms）。如果在指定的时间内没有获取到位置信息则触发错误回调函数。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无超时设置
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>maximumAge</strong>
                  ：(
                  <em>Number</em>
                  )获取位置信息的缓存时间 单位为毫秒（ms）。如果设备缓存的位置信息超过指定的缓存时间，将重新更新位置信息后再返回。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：0
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>provider</strong>
                  ：(
                  <em>String</em>
                  )定位数据的供应者 可取以下供应者： “system”：表示系统定位模块，支持wgs84坐标系； “baidu”：表示百度定位模块，支持gcj02/bd09/bd09ll坐标系。 若指定的provider不存在或无效则返回错误回调。 注意：百度定位模块需要配置百度地图相关参数才能正常使用。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：'system'
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    EX-1：
    app.geolocation.getCurrentPosition(function(position) {
        console.log(position.coords.latitude);
    });

    EX-2：
    app.geolocation.getCurrentPosition(function(position) {
        console.log(position.coords.latitude);
    }, {
        enableHighAccuracy: true,
        timeout: 10,
        maximumAge: 10,
        provider: 'system'
    });

    EX-3：
    app.geolocation.getCurrentPosition(function(position) {
        console.log(position.coords.latitude);
    }, function(err) {
        console.log(err);
    });
</code></pre>

    </li>
  </ul>
  <h4>
    <div id="watchPosition" style="color:red">watchPosition</div>
  </h4>
  <ul>
    <li>
      <h4>
        app.geolocation.watchPosition(success, error, options)   ⇒ void
      </h4>
      <p>
        位置信息将通过手机GPS设备或其它信息如IP地址、移动网络信号获取。当位置信息更新后将通过success回调函数返回。位置信息获取失败则调用回调函数error。
      </p>
      <ul>
        <li>
          <strong>success</strong>
          ：获取设备位置信息成功回调函数
          <ul>
            <li>
              <strong>type</strong>
              ：function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>position</strong>
                  ：设备的地理位置信息
                  <ul>
                    <li>
                      <strong>type</strong>
                      ：JSON
                    </li>
                    <li>
                      <strong>keys</strong>
                      <ul>
                        <li>
                          <strong>coords</strong>
                          ：（JSON）地理坐标信息，包括经纬度、海拔、速度等信息
                          <ul>
                            <li>
                              <strong>keys</strong>
                              <ul>
                                <li>
                                  <strong>latitude</strong>
                                  ：(
                                  <em>Number</em>
                                  )坐标纬度值 数据类型对象，地理坐标中的纬度值。
                                </li>
                                <li>
                                  <strong>longitude</strong>
                                  ：(
                                  <em>Number</em>
                                  )坐标经度值 数据类型对象，地理坐标中的经度值。
                                </li>
                                <li>
                                  <strong>altitude</strong>
                                  ：(
                                  <em>Number</em>
                                  )海拔信息 数据类型对象，如果无法获取此信息，则此值为空（null）。
                                </li>
                                <li>
                                  <strong>accuracy</strong>
                                  ：(
                                  <em>Number</em>
                                  )地理坐标信息的精确度信息 数据类型对象，单位为米，其有效值必须大于0。
                                </li>
                                <li>
                                  <strong>altitudeAccuracy</strong>
                                  ：(
                                  <em>Number</em>
                                  )海拔的精确度信息 数据类型对象，单位为米，其有效值必须大于0。如果无法获取海拔信息，则此值为空（null）。
                                </li>
                                <li>
                                  <strong>heading</strong>
                                  ：(
                                  <em>Number</em>
                                  )表示设备移动的方向 数据类型对象，范围为0到360，表示相对于正北方向的角度。如果无法获取此信息，则此值为空（null）。如果设备没有移动则此值为NaN。
                                </li>
                                <li>
                                  <strong>speed</strong>
                                  ：(
                                  <em>Number</em>
                                  )表示设备移动的速度 数据类型对象，单位为米每秒（m/s），其有效值必须大于0。如果无法获取速度信息，则此值为空（null）。
                                </li>
                              </ul>
                            </li>
                          </ul>
                        </li>
                        <li>
                          <strong>coordsType</strong>
                          ：(
                          <em>String</em>
                          )获取到地理坐标信息的坐标系类型,可取以下坐标系类型： “gps”：表示WGS-84坐标系；
                        </li>
                        <li>
                          <strong>timestamp</strong>
                          ： (
                          <em>Number</em>
                          )获取到地理坐标的时间戳信息,时间戳值为从1970年1月1日至今的毫秒数。
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <p>
            <strong>error</strong>
            ：获取设备位置信息失败的回调函数
          </p>
          <ul>
            <li>
              <strong>type</strong>
              ：function
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>参数</strong>
              <ul>
                <li>
                  <strong>err</strong>
                  ：获取位置操作的错误信息
                  <ul>
                    <li>
                      <strong>type</strong>
                      ：String
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          <p>
            <strong>options</strong>
            ：调用麦克风设备进行录音的参数
          </p>
          <ul>
            <li>
              <strong>type</strong>
              ：JSON
            </li>
            <li>
              <strong>默认值</strong>
              ：无
            </li>
            <li>
              <strong>keys</strong>
              <ul>
                <li>
                  <strong>enableHighAccuracy</strong>
                  ： (
                  <em>Boolean</em>
                  )是否高精确度获取位置信息 高精度获取表示需要使用更多的系统资源。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：false
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>timeout</strong>
                  ：(
                  <em>Number</em>
                  )获取位置信息的超时时间 单位为毫秒（ms）。如果在指定的时间内没有获取到位置信息则触发错误回调函数。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：无超时设置
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>maximumAge</strong>
                  ：(
                  <em>Number</em>
                  )获取位置信息的缓存时间 单位为毫秒（ms）。如果设备缓存的位置信息超过指定的缓存时间，将重新更新位置信息后再返回。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：0
                    </li>
                  </ul>
                </li>
                <li>
                  <strong>provider</strong>
                  ：(
                  <em>String</em>
                  )定位数据的供应者 可取以下供应者： “system”：表示系统定位模块，支持wgs84坐标系； “baidu”：表示百度定位模块，支持gcj02/bd09/bd09ll坐标系。 若指定的provider不存在或无效则返回错误回调。 注意：百度定位模块需要配置百度地图相关参数才能正常使用。
                  <ul>
                    <li>
                      <strong>默认值</strong>
                      ：'system'
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>    EX-1：
    app.geolocation.watchPosition(function(position) {
        console.log(position.coords.latitude);
    });

    EX-2：
    app.geolocation.watchPosition(function(position) {
        console.log(position.coords.latitude);
    }, {
        enableHighAccuracy: true,
        timeout: 10,
        maximumAge: 10,
        provider: 'system'
    });

    EX-3：
    app.geolocation.watchPosition(function(position) {
        console.log(position.coords.latitude);
    }, function(err) {
        console.log(err);
    });
</code></pre>

    </li>
  </ul>
  <h4>
    <div id="clearWatch" style="color:red">clearWatch</div>
  </h4>
  <ul>
    <li>
      <h4>app.geolocation.clearWatch()   ⇒ void</h4>
      <p>关闭监听设备位置信息</p>
    </li>
    <li>
      <h5>示例：</h5>
      <pre><code>app.geolocation.clearWatch()</code></pre>

    </li>
  </ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->